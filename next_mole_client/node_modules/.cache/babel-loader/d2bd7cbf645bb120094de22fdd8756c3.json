{"ast":null,"code":"var _jsxFileName = \"/Users/rgoren/Desktop/nextMoleAppClient/next_mole_client/src/Components/UploadJson.jsx\";\nimport React from 'react';\nimport { FilePond } from 'react-filepond';\nimport 'filepond/dist/filepond.min.css';\nimport JSONTree from 'react-json-tree';\nimport Swal from 'sweetalert2';\nimport withReactContent from 'sweetalert2-react-content';\nconst MySwal = withReactContent(Swal);\nexport default class UploadJson extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      fileContent: ''\n    };\n\n    this.AddFile = (error, file) => {\n      if (this.fileValidate(file)) {\n        //this.props.sendJsonData(file);\n        //אם הקובץ שעלה עומד בתנאים עכשיו ניתן להעלות אותו לסרבר\n        //save to DB using fetch\n        //או\n        // קריאת התוכן של הקובץ:\n        this.readJsonFile(file.file); //this.props.state.originalJson = file;\n      }\n    };\n\n    this.fileValidate = file => {\n      let isValid = true;\n      console.log(file.fileExtension);\n\n      if (file.fileExtension !== 'js' & file.fileExtension !== 'json') {\n        //אם הקובץ לא קובץ ג'ייסון/גאווה סקריפט, לא לאפשר העלאה.\n        MySwal.fire({\n          title: 'Error!',\n          text: 'You can only choose JS or JSON files to uploaded',\n          icon: 'error',\n          confirmButtonText: 'Ok'\n        });\n        file.abortLoad();\n        isValid = false;\n      }\n\n      return isValid;\n    };\n\n    this.readJsonFile = file => {\n      var reader = new FileReader();\n      reader.readAsText(file, \"UTF-8\");\n\n      reader.onload = evt => {\n        //console.log(evt.target.result);\n        this.props.sendJsonData(evt.target.result);\n        this.setState({\n          fileContent: JSON.parse(evt.target.result)\n        });\n      };\n\n      reader.onerror = evt => {\n        console.log(\"error reading file\");\n      };\n    };\n\n    this.saveJsonToDB = file => {\n      // הקריאה לפונקציה מתבצעת בקומפוננטה דף הבית כאשר נלחץ אישור טופס\n      console.log(file);\n      const data = new FormData();\n      data.append(\"UploadedFile\", file); //גישה לקונטרולר\n\n      fetch('https://localhost:44312/api/fileUpload', {\n        method: 'post',\n        contentType: false,\n        processData: false,\n        mode: 'no-cors',\n        body: data\n      }).then(function (data) {\n        console.log(data);\n      }).catch(error => {\n        console.log(error);\n      });\n    };\n  }\n\n  getAlert() {\n    alert('clicked');\n  }\n\n  render() {\n    const theme = {\n      scheme: 'atelier lakeside',\n      author: 'bram de haan (http://atelierbram.github.io/syntax-highlighting/atelier-schemes/lakeside/)',\n      base00: '#161b1d',\n      base01: '#1f292e',\n      base02: '#516d7b',\n      base03: '#5a7b8c',\n      base04: '#7195a8',\n      base05: '#7ea2b4',\n      base06: '#c1e4f6',\n      base07: '#ebf8ff',\n      base08: '#d22d72',\n      base09: '#935c25',\n      base0A: '#8a8a0f',\n      base0B: '#568c3b',\n      base0C: '#2d8f6f',\n      base0D: '#257fad',\n      base0E: '#5d5db1',\n      base0F: '#b72dd2'\n    };\n    return /*#__PURE__*/React.createElement(\"div\", {\n      style: divStyle,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(FilePond, {\n      allowMultiple: false,\n      onaddfile: this.AddFile,\n      labelIdlE: \"FILE UPLOAD\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 17\n      }\n    }), this.state.fileContent !== '' && /*#__PURE__*/React.createElement(JSONTree, {\n      data: this.state.fileContent,\n      shouldExpandNode: () => false,\n      theme: {\n        extend: theme,\n        // underline keys for literal values\n        valueLabel: {\n          textDecoration: 'underline'\n        } // `nestedNodeLabel` receives additional arguments `expanded` and `keyPath`\n\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 51\n      }\n    }));\n  }\n\n}\nconst divStyle = {//padding:'150px'\n};","map":{"version":3,"sources":["/Users/rgoren/Desktop/nextMoleAppClient/next_mole_client/src/Components/UploadJson.jsx"],"names":["React","FilePond","JSONTree","Swal","withReactContent","MySwal","UploadJson","Component","state","fileContent","AddFile","error","file","fileValidate","readJsonFile","isValid","console","log","fileExtension","fire","title","text","icon","confirmButtonText","abortLoad","reader","FileReader","readAsText","onload","evt","props","sendJsonData","target","result","setState","JSON","parse","onerror","saveJsonToDB","data","FormData","append","fetch","method","contentType","processData","mode","body","then","catch","getAlert","alert","render","theme","scheme","author","base00","base01","base02","base03","base04","base05","base06","base07","base08","base09","base0A","base0B","base0C","base0D","base0E","base0F","divStyle","extend","valueLabel","textDecoration"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { FilePond } from 'react-filepond';\nimport 'filepond/dist/filepond.min.css';\nimport JSONTree from 'react-json-tree';\nimport Swal from 'sweetalert2';\nimport withReactContent from 'sweetalert2-react-content';\n\n\nconst MySwal = withReactContent(Swal)\n\n\nexport default class UploadJson extends React.Component {\n\n    state = {\n        fileContent: ''\n    }\n\n    AddFile = (error, file) => {\n        if (this.fileValidate(file)) {\n            //this.props.sendJsonData(file);\n\n            //אם הקובץ שעלה עומד בתנאים עכשיו ניתן להעלות אותו לסרבר\n            //save to DB using fetch\n            //או\n            // קריאת התוכן של הקובץ:\n            this.readJsonFile(file.file);\n            //this.props.state.originalJson = file;\n            \n        }\n    }\n\n    fileValidate = (file) => {\n        let isValid = true;\n        console.log(file.fileExtension)\n        if (file.fileExtension !== 'js' & file.fileExtension !== 'json') {          //אם הקובץ לא קובץ ג'ייסון/גאווה סקריפט, לא לאפשר העלאה.\n            MySwal.fire({\n                title: 'Error!',\n                text: 'You can only choose JS or JSON files to uploaded',\n                icon: 'error',\n                confirmButtonText: 'Ok'\n            })\n            file.abortLoad();\n            isValid = false;\n        }\n        return isValid;\n    }\n\n    readJsonFile = (file) => {\n        var reader = new FileReader();\n        reader.readAsText(file, \"UTF-8\");\n        reader.onload = (evt) => {\n            //console.log(evt.target.result);\n            this.props.sendJsonData(evt.target.result);\n            this.setState({ fileContent: JSON.parse(evt.target.result) })\n        }\n        reader.onerror = (evt) => {\n            console.log(\"error reading file\");\n        }\n    }\n\n    saveJsonToDB = (file) => {              // הקריאה לפונקציה מתבצעת בקומפוננטה דף הבית כאשר נלחץ אישור טופס\n        console.log(file);\n        const data = new FormData();\n        data.append(\"UploadedFile\", file);\n        //גישה לקונטרולר\n        fetch('https://localhost:44312/api/fileUpload', {\n            method: 'post',\n            contentType: false,\n            processData: false,\n            mode: 'no-cors',\n            body: data\n        }).then(function (data) {\n            console.log(data);\n        }).catch((error) => {\n            console.log(error);\n        });\n    }\n    getAlert() {\n        alert('clicked');\n      }\n    render() {\n        const theme = {\n            scheme: 'atelier lakeside',\n            author: 'bram de haan (http://atelierbram.github.io/syntax-highlighting/atelier-schemes/lakeside/)',\n            base00: '#161b1d',\n            base01: '#1f292e',\n            base02: '#516d7b',\n            base03: '#5a7b8c',\n            base04: '#7195a8',\n            base05: '#7ea2b4',\n            base06: '#c1e4f6',\n            base07: '#ebf8ff',\n            base08: '#d22d72',\n            base09: '#935c25',\n            base0A: '#8a8a0f',\n            base0B: '#568c3b',\n            base0C: '#2d8f6f',\n            base0D: '#257fad',\n            base0E: '#5d5db1',\n            base0F: '#b72dd2'\n          };\n        return (\n            <div style={divStyle}>\n                <FilePond allowMultiple={false} onaddfile={this.AddFile} labelIdlE='FILE UPLOAD' />\n                {this.state.fileContent !== '' && <JSONTree data={this.state.fileContent} shouldExpandNode={() => false} theme={{\n                    extend: theme,\n                    // underline keys for literal values\n                    valueLabel: {\n                        textDecoration: 'underline',\n                    }\n                    // `nestedNodeLabel` receives additional arguments `expanded` and `keyPath`\n                    \n                }} />}\n            </div>\n        )\n    }\n}\nconst divStyle = {\n    //padding:'150px'\n} \n"]},"metadata":{},"sourceType":"module"}