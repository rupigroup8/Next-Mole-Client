{"ast":null,"code":"import _classCallCheck from\"/Users/rgoren/Desktop/nextMoleAppClient/next_mole_client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/rgoren/Desktop/nextMoleAppClient/next_mole_client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/rgoren/Desktop/nextMoleAppClient/next_mole_client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/rgoren/Desktop/nextMoleAppClient/next_mole_client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import{FilePond}from'react-filepond';import'filepond/dist/filepond.min.css';import JSONTree from'react-json-tree';import Swal from'sweetalert2';import withReactContent from'sweetalert2-react-content';var MySwal=withReactContent(Swal);var UploadJson=/*#__PURE__*/function(_React$Component){_inherits(UploadJson,_React$Component);var _super=_createSuper(UploadJson);function UploadJson(){var _this;_classCallCheck(this,UploadJson);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={fileContent:''};_this.AddFile=function(error,file){if(_this.fileValidate(file)){//this.props.sendJsonData(file);\n//אם הקובץ שעלה עומד בתנאים עכשיו ניתן להעלות אותו לסרבר\n//save to DB using fetch\n//או\n// קריאת התוכן של הקובץ:\n_this.readJsonFile(file.file);//this.props.state.originalJson = file;\n}};_this.fileValidate=function(file){var isValid=true;console.log(file.fileExtension);if(file.fileExtension!=='js'&file.fileExtension!=='json'){//אם הקובץ לא קובץ ג'ייסון/גאווה סקריפט, לא לאפשר העלאה.\nMySwal.fire({title:'Error!',text:'You can only choose JS or JSON files to uploaded',icon:'error',confirmButtonText:'Ok'});file.abortLoad();isValid=false;}return isValid;};_this.readJsonFile=function(file){var reader=new FileReader();reader.readAsText(file,\"UTF-8\");reader.onload=function(evt){//console.log(evt.target.result);\n_this.props.sendJsonData(evt.target.result);_this.setState({fileContent:JSON.parse(evt.target.result)});};reader.onerror=function(evt){console.log(\"error reading file\");};};_this.saveJsonToDB=function(file){// הקריאה לפונקציה מתבצעת בקומפוננטה דף הבית כאשר נלחץ אישור טופס\nconsole.log(file);var data=new FormData();data.append(\"UploadedFile\",file);//גישה לקונטרולר\nfetch('https://localhost:44312/api/fileUpload',{method:'post',contentType:false,processData:false,mode:'no-cors',body:data}).then(function(data){console.log(data);}).catch(function(error){console.log(error);});};return _this;}_createClass(UploadJson,[{key:\"getAlert\",value:function getAlert(){alert('clicked');}},{key:\"render\",value:function render(){var theme={scheme:'atelier lakeside',author:'bram de haan (http://atelierbram.github.io/syntax-highlighting/atelier-schemes/lakeside/)',base00:'#161b1d',base01:'#1f292e',base02:'#516d7b',base03:'#5a7b8c',base04:'#7195a8',base05:'#7ea2b4',base06:'#c1e4f6',base07:'#ebf8ff',base08:'#d22d72',base09:'#935c25',base0A:'#8a8a0f',base0B:'#568c3b',base0C:'#2d8f6f',base0D:'#257fad',base0E:'#5d5db1',base0F:'#b72dd2'};return/*#__PURE__*/React.createElement(\"div\",{style:divStyle},/*#__PURE__*/React.createElement(FilePond,{allowMultiple:false,onaddfile:this.AddFile,labelIdlE:\"FILE UPLOAD\"}),this.state.fileContent!==''&&/*#__PURE__*/React.createElement(JSONTree,{data:this.state.fileContent,shouldExpandNode:function shouldExpandNode(){return false;},theme:{extend:theme,// underline keys for literal values\nvalueLabel:{textDecoration:'underline'}// `nestedNodeLabel` receives additional arguments `expanded` and `keyPath`\n}}));}}]);return UploadJson;}(React.Component);export{UploadJson as default};var divStyle={//padding:'150px'\n};","map":{"version":3,"sources":["/Users/rgoren/Desktop/nextMoleAppClient/next_mole_client/src/Components/UploadJson.jsx"],"names":["React","FilePond","JSONTree","Swal","withReactContent","MySwal","UploadJson","state","fileContent","AddFile","error","file","fileValidate","readJsonFile","isValid","console","log","fileExtension","fire","title","text","icon","confirmButtonText","abortLoad","reader","FileReader","readAsText","onload","evt","props","sendJsonData","target","result","setState","JSON","parse","onerror","saveJsonToDB","data","FormData","append","fetch","method","contentType","processData","mode","body","then","catch","alert","theme","scheme","author","base00","base01","base02","base03","base04","base05","base06","base07","base08","base09","base0A","base0B","base0C","base0D","base0E","base0F","divStyle","extend","valueLabel","textDecoration","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { FilePond } from 'react-filepond';\nimport 'filepond/dist/filepond.min.css';\nimport JSONTree from 'react-json-tree';\nimport Swal from 'sweetalert2';\nimport withReactContent from 'sweetalert2-react-content';\n\n\nconst MySwal = withReactContent(Swal)\n\n\nexport default class UploadJson extends React.Component {\n\n    state = {\n        fileContent: ''\n    }\n\n    AddFile = (error, file) => {\n        if (this.fileValidate(file)) {\n            //this.props.sendJsonData(file);\n\n            //אם הקובץ שעלה עומד בתנאים עכשיו ניתן להעלות אותו לסרבר\n            //save to DB using fetch\n            //או\n            // קריאת התוכן של הקובץ:\n            this.readJsonFile(file.file);\n            //this.props.state.originalJson = file;\n            \n        }\n    }\n\n    fileValidate = (file) => {\n        let isValid = true;\n        console.log(file.fileExtension)\n        if (file.fileExtension !== 'js' & file.fileExtension !== 'json') {          //אם הקובץ לא קובץ ג'ייסון/גאווה סקריפט, לא לאפשר העלאה.\n            MySwal.fire({\n                title: 'Error!',\n                text: 'You can only choose JS or JSON files to uploaded',\n                icon: 'error',\n                confirmButtonText: 'Ok'\n            })\n            file.abortLoad();\n            isValid = false;\n        }\n        return isValid;\n    }\n\n    readJsonFile = (file) => {\n        var reader = new FileReader();\n        reader.readAsText(file, \"UTF-8\");\n        reader.onload = (evt) => {\n            //console.log(evt.target.result);\n            this.props.sendJsonData(evt.target.result);\n            this.setState({ fileContent: JSON.parse(evt.target.result) })\n        }\n        reader.onerror = (evt) => {\n            console.log(\"error reading file\");\n        }\n    }\n\n    saveJsonToDB = (file) => {              // הקריאה לפונקציה מתבצעת בקומפוננטה דף הבית כאשר נלחץ אישור טופס\n        console.log(file);\n        const data = new FormData();\n        data.append(\"UploadedFile\", file);\n        //גישה לקונטרולר\n        fetch('https://localhost:44312/api/fileUpload', {\n            method: 'post',\n            contentType: false,\n            processData: false,\n            mode: 'no-cors',\n            body: data\n        }).then(function (data) {\n            console.log(data);\n        }).catch((error) => {\n            console.log(error);\n        });\n    }\n    getAlert() {\n        alert('clicked');\n      }\n    render() {\n        const theme = {\n            scheme: 'atelier lakeside',\n            author: 'bram de haan (http://atelierbram.github.io/syntax-highlighting/atelier-schemes/lakeside/)',\n            base00: '#161b1d',\n            base01: '#1f292e',\n            base02: '#516d7b',\n            base03: '#5a7b8c',\n            base04: '#7195a8',\n            base05: '#7ea2b4',\n            base06: '#c1e4f6',\n            base07: '#ebf8ff',\n            base08: '#d22d72',\n            base09: '#935c25',\n            base0A: '#8a8a0f',\n            base0B: '#568c3b',\n            base0C: '#2d8f6f',\n            base0D: '#257fad',\n            base0E: '#5d5db1',\n            base0F: '#b72dd2'\n          };\n        return (\n            <div style={divStyle}>\n                <FilePond allowMultiple={false} onaddfile={this.AddFile} labelIdlE='FILE UPLOAD' />\n                {this.state.fileContent !== '' && <JSONTree data={this.state.fileContent} shouldExpandNode={() => false} theme={{\n                    extend: theme,\n                    // underline keys for literal values\n                    valueLabel: {\n                        textDecoration: 'underline',\n                    }\n                    // `nestedNodeLabel` receives additional arguments `expanded` and `keyPath`\n                    \n                }} />}\n            </div>\n        )\n    }\n}\nconst divStyle = {\n    //padding:'150px'\n} \n"]},"metadata":{},"sourceType":"module"}