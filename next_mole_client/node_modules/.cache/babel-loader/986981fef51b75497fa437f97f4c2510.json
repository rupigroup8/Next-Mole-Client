{"ast":null,"code":"var _jsxFileName = \"/Users/rgoren/Desktop/nextMoleAppClient/next_mole_client/src/Components/Login.jsx\";\nimport React, { Component } from \"react\";\nimport '../css/index.css';\nimport { Link } from \"react-router-dom\";\nimport Swal from 'sweetalert2';\nimport withReactContent from 'sweetalert2-react-content';\nimport { withRouter } from 'react-router-dom';\nconst MySwal = withReactContent(Swal);\n\nclass Login extends Component {\n  constructor(props) {\n    super(props);\n\n    this.checkLogin = event => {\n      event.preventDefault();\n      var emailStr = this.state.userEmail;\n      var passwordStr = this.state.userPassword;\n\n      if (emailStr === '') {\n        MySwal.fire({\n          title: 'Error!',\n          text: 'You must insert email address',\n          icon: 'warning',\n          confirmButtonText: 'Ok'\n        });\n      } else if (passwordStr === '') {\n        MySwal.fire({\n          title: 'Error!',\n          text: 'You must insert password',\n          icon: 'warning',\n          confirmButtonText: 'Ok'\n        });\n      } else {\n        let api = this.apiUrl + \"user/\" + emailStr + \"/\" + passwordStr;\n        console.log(api); //this.props.history.push(\"/home\");\n\n        fetch(api, {\n          method: 'GET',\n          //mode: 'no-cors',\n          headers: new Headers({\n            'Content-Type': 'application/json; charset=UTF-8'\n          })\n        }).then(res => {\n          console.log('res=', res);\n          return res.json();\n        }).then(result => {\n          console.log(result);\n\n          if (result) {\n            MySwal.fire({\n              title: 'Login successfully!',\n              icon: 'success',\n              timer: 1000,\n              showConfirmButton: false\n            });\n            this.props.history.push(\"/home\");\n          } else {\n            MySwal.fire(\"Email or password are incorrect, please try again\", \"\", \"warning\");\n          }\n        }, error => {\n          console.log(\"err=\", error);\n        });\n      }\n    };\n\n    let local = false; //let local = true;\n\n    this.apiUrl = 'https://localhost:44312/api/';\n\n    if (!local) {\n      this.apiUrl = 'http://proj.ruppin.ac.il/igroup8/prod/api/';\n    }\n\n    this.state = {\n      userEmail: '',\n      userPassword: '',\n      isSignedIn: false\n    };\n    this.handleEmailChange = this.handleEmailChange.bind(this);\n    this.handlePasswordChange = this.handlePasswordChange.bind(this);\n    this.checkLogin = this.checkLogin.bind(this);\n  }\n\n  handleEmailChange(event) {\n    this.setState({\n      userEmail: event.target.value\n    });\n  }\n\n  handlePasswordChange(event) {\n    this.setState({\n      userPassword: event.target.value\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"auth-wrapper\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"auth-inner\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.checkLogin,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 15\n      }\n    }, \"Sign In\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 17\n      }\n    }, \"Email address\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"email\",\n      name: \"userEmail\",\n      onChange: this.handleEmailChange,\n      className: \"form-control\",\n      placeholder: \"name@example.com\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 17\n      }\n    }, \"Password\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"password\",\n      name: \"userPassword\",\n      onChange: this.handlePasswordChange,\n      className: \"form-control\",\n      placeholder: \"Enter password\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"submit\",\n      className: \"btn btn-info btn-block\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 15\n      }\n    }, \"Submit\"), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"forgot-password text-right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      className: \"nav-link text-info\",\n      to: \"/sign-up\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 17\n      }\n    }, \"Not registered yet?\"))))));\n  }\n\n}\n\nexport default withRouter(Login);","map":{"version":3,"sources":["/Users/rgoren/Desktop/nextMoleAppClient/next_mole_client/src/Components/Login.jsx"],"names":["React","Component","Link","Swal","withReactContent","withRouter","MySwal","Login","constructor","props","checkLogin","event","preventDefault","emailStr","state","userEmail","passwordStr","userPassword","fire","title","text","icon","confirmButtonText","api","apiUrl","console","log","fetch","method","headers","Headers","then","res","json","result","timer","showConfirmButton","history","push","error","local","isSignedIn","handleEmailChange","bind","handlePasswordChange","setState","target","value","render"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport '../css/index.css';\nimport { Link } from \"react-router-dom\";\nimport Swal from 'sweetalert2';\nimport withReactContent from 'sweetalert2-react-content';\nimport { withRouter} from 'react-router-dom';\n\n\n\nconst MySwal = withReactContent(Swal)\n\nclass Login extends Component {\n\n  constructor(props) {\n    super(props)\n    let local = false;\n    //let local = true;\n    this.apiUrl = 'https://localhost:44312/api/';\n    if (!local) {\n      this.apiUrl = 'http://proj.ruppin.ac.il/igroup8/prod/api/';\n    }\n    this.state = {\n      userEmail: '',\n      userPassword: '',\n      isSignedIn: false\n    }\n    this.handleEmailChange = this.handleEmailChange.bind(this);\n    this.handlePasswordChange = this.handlePasswordChange.bind(this);\n    this.checkLogin = this.checkLogin.bind(this);\n\n  }\n\n  handleEmailChange(event) {\n    this.setState({ userEmail: event.target.value });\n  }\n\n  handlePasswordChange(event) {\n    this.setState({ userPassword: event.target.value });\n  }\n\n  checkLogin = (event) => {\n    event.preventDefault();\n    var emailStr =this.state.userEmail;\n    var passwordStr=this.state.userPassword;\n    if(emailStr===''){\n      MySwal.fire({\n        title: 'Error!',\n        text: 'You must insert email address',\n        icon: 'warning',\n        confirmButtonText: 'Ok'\n    })\n    }\n    else if(passwordStr===''){\n      MySwal.fire({\n        title: 'Error!',\n        text: 'You must insert password',\n        icon: 'warning',\n        confirmButtonText: 'Ok'\n    })\n    }\n    else{\n      let api= this.apiUrl+\"user/\"+emailStr+\"/\"+passwordStr;\n      console.log(api);\n      //this.props.history.push(\"/home\");\n\n      fetch(api, {\n        method: 'GET',\n        //mode: 'no-cors',\n        headers: new Headers({\n          'Content-Type': 'application/json; charset=UTF-8',\n        })\n      })\n        .then(res => {\n          console.log('res=', res);\n          return res.json();\n        })\n        .then(result => {\n          console.log(result);\n          if (result) {\n            MySwal.fire({\n              title: 'Login successfully!',\n              icon: 'success',\n              timer: 1000,\n              showConfirmButton:false,\n            })\n            this.props.history.push(\"/home\");\n          }\n          else {\n            MySwal.fire(\"Email or password are incorrect, please try again\", \"\", \"warning\");\n            \n          }\n        },\n          (error) => {\n            console.log(\"err=\", error);\n          });\n    }\n\n  }\n\n  render() {\n    return (\n      <div className=\"auth-wrapper\">\n        <div className=\"auth-inner\">\n          <div>\n            <form onSubmit={this.checkLogin}>\n              <h3>Sign In</h3>\n\n              <div className=\"form-group\">\n                <label>Email address</label>\n                <input type=\"email\" name=\"userEmail\" onChange={this.handleEmailChange}\n                  className=\"form-control\" placeholder=\"name@example.com\" />\n              </div>\n\n              <div className=\"form-group\">\n                <label>Password</label>\n                <input type=\"password\" name=\"userPassword\" onChange={this.handlePasswordChange}\n                  className=\"form-control\" placeholder=\"Enter password\" />\n              </div>\n              <button type=\"submit\" className=\"btn btn-info btn-block\">Submit</button>\n              <p className=\"forgot-password text-right\">\n                <Link className=\"nav-link text-info\" to=\"/sign-up\">Not registered yet?</Link>\n              </p>\n            </form>\n          </div>\n\n        </div>\n      </div>\n    );\n  }\n}\nexport default withRouter(Login);\n"]},"metadata":{},"sourceType":"module"}