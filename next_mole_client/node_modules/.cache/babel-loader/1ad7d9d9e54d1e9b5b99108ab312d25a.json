{"ast":null,"code":"import _slicedToArray from\"/Users/rgoren/Desktop/nextMoleAppClient/next_mole_client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _classCallCheck from\"/Users/rgoren/Desktop/nextMoleAppClient/next_mole_client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/rgoren/Desktop/nextMoleAppClient/next_mole_client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/rgoren/Desktop/nextMoleAppClient/next_mole_client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/rgoren/Desktop/nextMoleAppClient/next_mole_client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{withRouter}from'react-router-dom';import{Container,Row,Col,Dropdown,FormControl,Button,ListGroup,InputGroup}from'react-bootstrap';import{useState}from'react';var paths=[];var Game=/*#__PURE__*/function(_Component){_inherits(Game,_Component);var _super=_createSuper(Game);function Game(props){var _this;_classCallCheck(this,Game);_this=_super.call(this,props);//let local = false;\n_this.selectSource=function(s){console.log('source: ',s);//console.log(this)\n_this.setState({source:s});};_this.selectTarget=function(t){console.log('target: ',t);_this.setState({target:t});};_this.startGame=function(){console.log(\"inside play\");var category=\"Game_Of_Thrones\";var api=_this.apiUrl+\"networkStartAGame?categoryNAME=\"+category;fetch(api,{method:'GET',//mode: 'no-cors',\nheaders:new Headers({'Content-Type':'application/json; charset=UTF-8'})}).then(function(res){console.log('res=',res);return res.json();}).then(function(result){console.log(result);_this.setState({dataForGame:result});},function(error){console.log(\"err=\",error);});};_this.findShortestPaths=function(){console.log(\"inside find shortets paths\");var source=_this.state.source;var target=_this.state.target;//var source = \"Aegon Targaryen\";\n//var target = \"Sandor Clegane\";\nvar category=\"Game_Of_Thrones\";var api=_this.apiUrl+\"networkGetPath/?source=\"+source+\"&target=\"+target+'&categoryNAME='+category;fetch(api,{method:'GET',//mode: 'no-cors',\nheaders:new Headers({'Content-Type':'application/json; charset=UTF-8'})}).then(function(res){console.log('res=',res);return res.json();}).then(function(result){console.log(result);_this.setState({dataForShort:result[0]});},function(error){console.log(\"err=\",error);});};var local=true;_this.apiUrl='https://localhost:44312/api/';if(!local){_this.apiUrl='http://proj.ruppin.ac.il/igroup8/prod/api/';}_this.state={data:_this.props.location.state.finalJson,source:'',target:'',dataForShort:[],dataForGame:[[],[],[],[]]};return _this;}_createClass(Game,[{key:\"render\",value:function render(){var _this2=this;var CustomToggle=React.forwardRef(function(_ref,ref){var children=_ref.children,_onClick=_ref.onClick;return/*#__PURE__*/React.createElement(\"a\",{href:\"\",ref:ref,onClick:function onClick(e){e.preventDefault();_onClick(e);}},children,\"\\u25BC\");});// forwardRef again here!\n// Dropdown needs access to the DOM of the Menu to measure it\nvar CustomMenu=React.forwardRef(function(_ref2,ref){var children=_ref2.children,style=_ref2.style,className=_ref2.className,labeledBy=_ref2['aria-labelledby'];var _useState=useState(''),_useState2=_slicedToArray(_useState,2),value=_useState2[0],setValue=_useState2[1];return/*#__PURE__*/React.createElement(\"div\",{ref:ref,style:style,className:className,\"aria-labelledby\":labeledBy},/*#__PURE__*/React.createElement(FormControl,{autoFocus:true,className:\"mx-3 my-2 w-auto\",placeholder:\"Type to filter...\",onChange:function onChange(e){return setValue(e.target.value);},value:value}),/*#__PURE__*/React.createElement(\"ul\",{className:\"list-unstyled\"},React.Children.toArray(children).filter(function(child){return!value||child.props.children.toLowerCase().startsWith(value);})));});console.log(this.props.location.state.finalJson);return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Container,null,/*#__PURE__*/React.createElement(Row,{style:{margin:20}},/*#__PURE__*/React.createElement(Col,{style:{margin:20}})),/*#__PURE__*/React.createElement(Row,{style:{margin:20}},/*#__PURE__*/React.createElement(Col,{sm:\"4\"},/*#__PURE__*/React.createElement(Dropdown,null,/*#__PURE__*/React.createElement(Dropdown.Toggle,{as:CustomToggle,id:\"dropdown-custom-components\"},/*#__PURE__*/React.createElement(\"b\",null,\"source\")),/*#__PURE__*/React.createElement(Dropdown.Menu,{as:CustomMenu},this.state.data.nodes.map(function(item,i){return/*#__PURE__*/React.createElement(Dropdown.Item,{onSelect:_this2.selectSource,eventKey:item.id,key:i},item.id,\" \");})))),/*#__PURE__*/React.createElement(Col,{sm:\"3\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"basic-url\"},\"Selected source: \")),/*#__PURE__*/React.createElement(Col,{sm:\"4\"},/*#__PURE__*/React.createElement(InputGroup,{className:\"mb-3\"},/*#__PURE__*/React.createElement(FormControl,{placeholder:this.state.source,\"aria-label\":\"source selected\",\"aria-describedby\":\"basic-addon2\"})))),/*#__PURE__*/React.createElement(Row,{style:{margin:20}},/*#__PURE__*/React.createElement(Col,{sm:\"4\"},/*#__PURE__*/React.createElement(Dropdown,null,/*#__PURE__*/React.createElement(Dropdown.Toggle,{as:CustomToggle,id:\"dropdown-custom-components2\"},/*#__PURE__*/React.createElement(\"b\",null,\"target\")),/*#__PURE__*/React.createElement(Dropdown.Menu,{as:CustomMenu},this.state.data.nodes.map(function(item,i){return/*#__PURE__*/React.createElement(Dropdown.Item,{onSelect:_this2.selectTarget,eventKey:item.id,key:i},item.id,\" \");})))),/*#__PURE__*/React.createElement(Col,{sm:\"3\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"basic-url\"},\"Selected target: \")),/*#__PURE__*/React.createElement(Col,{sm:\"4\"},/*#__PURE__*/React.createElement(InputGroup,{className:\"mb-3\"},/*#__PURE__*/React.createElement(FormControl,{placeholder:this.state.target,\"aria-label\":\"source selected\",\"aria-describedby\":\"basic-addon2\"})))),/*#__PURE__*/React.createElement(Row,{style:{margin:20}},/*#__PURE__*/React.createElement(Col,{sm:\"12\"},/*#__PURE__*/React.createElement(Button,{style:{margin:'.5rem',padding:'.5rem 1.8rem',fontSize:'1.2rem'},onClick:this.findShortestPaths},\"find paths\"))),/*#__PURE__*/React.createElement(Row,{style:{margin:20}},/*#__PURE__*/React.createElement(Col,{sm:\"3\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"basic-url\"},\"Shortest path: \")),/*#__PURE__*/React.createElement(Col,{sm:\"4\"},/*#__PURE__*/React.createElement(ListGroup,{variant:\"flush\"},this.state.dataForShort.map(function(item,i){return/*#__PURE__*/React.createElement(ListGroup.Item,{key:i,className:\"text-left\",style:{paddingBottom:'.25rem',paddingTop:'.25rem'}},item);})))),/*#__PURE__*/React.createElement(Row,{style:{margin:20}},/*#__PURE__*/React.createElement(Col,{style:{margin:20}},/*#__PURE__*/React.createElement(Button,{style:{margin:'.5rem',padding:'.5rem 1.8rem',fontSize:'1.2rem'},onClick:this.startGame},\"play\"))),/*#__PURE__*/React.createElement(Row,{style:{margin:20}},/*#__PURE__*/React.createElement(Col,{style:{margin:20}},/*#__PURE__*/React.createElement(ListGroup,{variant:\"flush\"},this.state.dataForGame[0].map(function(itemm,ii){return/*#__PURE__*/React.createElement(ListGroup.Item,{key:ii,className:\"text-left\",style:{paddingBottom:'.25rem',paddingTop:'.25rem'}},itemm);}))),/*#__PURE__*/React.createElement(Col,{style:{margin:20}},/*#__PURE__*/React.createElement(ListGroup,{variant:\"flush\"},this.state.dataForGame[1].map(function(itemm,ii){return/*#__PURE__*/React.createElement(ListGroup.Item,{key:ii,className:\"text-left\",style:{paddingBottom:'.25rem',paddingTop:'.25rem'}},itemm);}))),/*#__PURE__*/React.createElement(Col,{style:{margin:20}},/*#__PURE__*/React.createElement(ListGroup,{variant:\"flush\"},this.state.dataForGame[2].map(function(itemm,ii){return/*#__PURE__*/React.createElement(ListGroup.Item,{key:ii,className:\"text-left\",style:{paddingBottom:'.25rem',paddingTop:'.25rem'}},itemm);}))),/*#__PURE__*/React.createElement(Col,{style:{margin:20}},/*#__PURE__*/React.createElement(ListGroup,{variant:\"flush\"},this.state.dataForGame[3].map(function(itemm,ii){return/*#__PURE__*/React.createElement(ListGroup.Item,{key:ii,className:\"text-left\",style:{paddingBottom:'.25rem',paddingTop:'.25rem'}},itemm);}))))));}}]);return Game;}(Component);export default withRouter(Game);","map":{"version":3,"sources":["/Users/rgoren/Desktop/nextMoleAppClient/next_mole_client/src/Components/Game.jsx"],"names":["React","Component","withRouter","Container","Row","Col","Dropdown","FormControl","Button","ListGroup","InputGroup","useState","paths","Game","props","selectSource","s","console","log","setState","source","selectTarget","t","target","startGame","category","api","apiUrl","fetch","method","headers","Headers","then","res","json","result","dataForGame","error","findShortestPaths","state","dataForShort","local","data","location","finalJson","CustomToggle","forwardRef","ref","children","onClick","e","preventDefault","CustomMenu","style","className","labeledBy","value","setValue","Children","toArray","filter","child","toLowerCase","startsWith","margin","nodes","map","item","i","id","padding","fontSize","paddingBottom","paddingTop","itemm","ii"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { withRouter } from 'react-router-dom';\nimport { Container, Row, Col, Dropdown, FormControl, Button, ListGroup, InputGroup } from 'react-bootstrap';\nimport { useState } from 'react';\n\n\nvar paths = [];\n\nclass Game extends Component {\n\n    constructor(props) {\n        super(props)\n        //let local = false;\n        let local = true;\n        this.apiUrl = 'https://localhost:44312/api/';\n        if (!local) {\n            this.apiUrl = 'http://proj.ruppin.ac.il/igroup8/prod/api/';\n        }\n        this.state = {\n            data: this.props.location.state.finalJson,\n            source: '',\n            target: '',\n            dataForShort: [],\n            dataForGame: [[],[],[],[]]\n\n        }\n    }\n\n    selectSource = (s) => {\n        console.log('source: ', s);\n        //console.log(this)\n        this.setState({ source: s })\n\n    }\n\n    selectTarget = (t) => {\n        console.log('target: ', t);\n        this.setState({ target: t })\n\n    }\n\n    startGame = () => {\n        console.log(\"inside play\")\n        let category = \"Game_Of_Thrones\";\n        let api = this.apiUrl + \"networkStartAGame?categoryNAME=\" + category;\n        fetch(api, {\n            method: 'GET',\n            //mode: 'no-cors',\n            headers: new Headers({\n                'Content-Type': 'application/json; charset=UTF-8',\n            })\n        })\n            .then(res => {\n                console.log('res=', res);\n                return res.json();\n            })\n            .then(result => {\n                console.log(result);\n                this.setState({ dataForGame: result })\n            },\n                (error) => {\n                    console.log(\"err=\", error);\n                });\n    }\n\n    findShortestPaths = () => {\n        console.log(\"inside find shortets paths\")\n        var source = this.state.source;\n        var target = this.state.target;\n        //var source = \"Aegon Targaryen\";\n        //var target = \"Sandor Clegane\";\n        let category = \"Game_Of_Thrones\";\n        let api = this.apiUrl + \"networkGetPath/?source=\" + source + \"&target=\" + target + '&categoryNAME=' + category;\n        fetch(api, {\n            method: 'GET',\n            //mode: 'no-cors',\n            headers: new Headers({\n                'Content-Type': 'application/json; charset=UTF-8',\n            })\n        })\n            .then(res => {\n                console.log('res=', res);\n                return res.json();\n            })\n            .then(result => {\n                console.log(result);\n                this.setState(\n                    { dataForShort: result[0] })\n\n            },\n                (error) => {\n                    console.log(\"err=\", error);\n                });\n\n    }\n\n    render() {\n        const CustomToggle = React.forwardRef(({ children, onClick }, ref) => (\n            <a\n                href=\"\"\n                ref={ref}\n                onClick={(e) => {\n                    e.preventDefault();\n                    onClick(e);\n                }}\n            >\n                {children}\n              &#x25bc;\n            </a>\n        ));\n\n        // forwardRef again here!\n        // Dropdown needs access to the DOM of the Menu to measure it\n        const CustomMenu = React.forwardRef(\n            ({ children, style, className, 'aria-labelledby': labeledBy }, ref) => {\n                const [value, setValue] = useState('');\n\n                return (\n                    <div\n                        ref={ref}\n                        style={style}\n                        className={className}\n                        aria-labelledby={labeledBy}\n                    >\n\n                        <FormControl\n                            autoFocus\n                            className=\"mx-3 my-2 w-auto\"\n                            placeholder=\"Type to filter...\"\n                            onChange={(e) => setValue(e.target.value)}\n                            value={value}\n                        />\n                        <ul className=\"list-unstyled\">\n                            {React.Children.toArray(children).filter(\n                                (child) =>\n                                    !value || child.props.children.toLowerCase().startsWith(value),\n                            )}\n                        </ul>\n                    </div>\n                );\n            },\n        );\n        console.log(this.props.location.state.finalJson)\n        return (\n            <div>\n                <Container>\n                    <Row style={{ margin: 20 }}>\n                        <Col style={{ margin: 20 }}>\n\n                        </Col>\n\n                    </Row>\n\n                    <Row style={{ margin: 20 }}>\n                        <Col sm=\"4\">\n                            <Dropdown>\n                                <Dropdown.Toggle as={CustomToggle} id=\"dropdown-custom-components\">\n                                    <b>source</b>\n                                </Dropdown.Toggle>\n\n                                <Dropdown.Menu as={CustomMenu}>\n                                    {\n                                        this.state.data.nodes.map((item, i) => {\n                                            return (\n                                                <Dropdown.Item onSelect={this.selectSource} eventKey={item.id} key={i}>{item.id} </Dropdown.Item>\n                                            )\n                                        })\n                                    }\n\n                                </Dropdown.Menu>\n                            </Dropdown>\n                        </Col>\n                        <Col sm=\"3\">\n                            <label htmlFor=\"basic-url\">Selected source: </label>\n                        </Col>\n                        <Col sm=\"4\">\n                            <InputGroup className=\"mb-3\">\n                                <FormControl\n                                    placeholder={this.state.source}\n                                    aria-label=\"source selected\"\n                                    aria-describedby=\"basic-addon2\"\n                                />\n                            </InputGroup>\n                        </Col>\n                    </Row>\n                    <Row style={{ margin: 20 }}>\n                        <Col sm=\"4\" >\n                            <Dropdown>\n                                <Dropdown.Toggle as={CustomToggle} id=\"dropdown-custom-components2\">\n                                    <b>target</b>\n                                </Dropdown.Toggle>\n\n                                <Dropdown.Menu as={CustomMenu}>\n                                    {\n                                        this.state.data.nodes.map((item, i) => {\n                                            return (\n                                                <Dropdown.Item onSelect={this.selectTarget} eventKey={item.id} key={i}>{item.id} </Dropdown.Item>\n                                            )\n                                        })\n                                    }\n\n                                </Dropdown.Menu>\n                            </Dropdown>\n                        </Col>\n                        <Col sm=\"3\">\n                            <label htmlFor=\"basic-url\">Selected target: </label>\n                        </Col>\n                        <Col sm=\"4\">\n                            <InputGroup className=\"mb-3\">\n                                <FormControl\n                                    placeholder={this.state.target}\n                                    aria-label=\"source selected\"\n                                    aria-describedby=\"basic-addon2\"\n                                />\n\n                            </InputGroup>\n                        </Col>\n                    </Row>\n                    <Row style={{ margin: 20 }}>\n                        <Col sm=\"12\">\n                            <Button style={{ margin: '.5rem', padding: '.5rem 1.8rem', fontSize: '1.2rem' }} onClick={this.findShortestPaths}>\n                                find paths\n                        </Button>\n                        </Col>\n                    </Row>\n                    <Row style={{ margin: 20 }}>\n                        <Col sm=\"3\">\n                            <label htmlFor=\"basic-url\">Shortest path: </label>\n                        </Col>\n                        <Col sm=\"4\">\n                            <ListGroup variant=\"flush\">\n                                {\n                                    this.state.dataForShort.map((item, i) => {\n                                        return (\n                                            <ListGroup.Item key={i} className='text-left' style={{ paddingBottom: '.25rem', paddingTop: '.25rem' }}>{item}</ListGroup.Item>\n                                        )\n                                    })\n                                }\n                            </ListGroup>\n                        </Col>\n                    </Row>\n                    <Row style={{ margin: 20 }}>\n                        <Col style={{ margin: 20 }}>\n                            <Button style={{ margin: '.5rem', padding: '.5rem 1.8rem', fontSize: '1.2rem' }} onClick={this.startGame}>\n                                play\n                        </Button>\n                        </Col>\n\n                    </Row>\n                    <Row style={{ margin: 20 }}>\n\n                        <Col style={{ margin: 20 }}>\n                            <ListGroup variant=\"flush\">\n                                {                                   \n                                    this.state.dataForGame[0].map((itemm, ii) => {\n                                        return (\n                                            <ListGroup.Item key={ii} className='text-left' style={{ paddingBottom: '.25rem', paddingTop: '.25rem' }}>{itemm}</ListGroup.Item>\n                                        )\n                                    })\n                                }\n                            </ListGroup>\n                        </Col>\n                        <Col style={{ margin: 20 }}>\n                            <ListGroup variant=\"flush\">\n                                {\n                                    this.state.dataForGame[1].map((itemm, ii) => {\n                                        return (\n                                            <ListGroup.Item key={ii} className='text-left' style={{ paddingBottom: '.25rem', paddingTop: '.25rem' }}>{itemm}</ListGroup.Item>\n                                        )\n                                    })\n                                }\n                            </ListGroup>\n                        </Col>\n                        <Col style={{ margin: 20 }}>\n                            <ListGroup variant=\"flush\">\n                                {\n                                    this.state.dataForGame[2].map((itemm, ii) => {\n                                        return (\n                                            <ListGroup.Item key={ii} className='text-left' style={{ paddingBottom: '.25rem', paddingTop: '.25rem' }}>{itemm}</ListGroup.Item>\n                                        )\n                                    })\n                                }\n                            </ListGroup>\n                        </Col>\n                        <Col style={{ margin: 20 }}>\n                            <ListGroup variant=\"flush\">\n                                {\n                                    this.state.dataForGame[3].map((itemm, ii) => {\n                                        return (\n                                            <ListGroup.Item key={ii} className='text-left' style={{ paddingBottom: '.25rem', paddingTop: '.25rem' }}>{itemm}</ListGroup.Item>\n                                        )\n                                    })\n                                }\n                            </ListGroup>\n                        </Col>\n\n                    </Row>\n                </Container>\n            </div>\n        );\n    }\n}\nexport default withRouter(Game);\n"]},"metadata":{},"sourceType":"module"}