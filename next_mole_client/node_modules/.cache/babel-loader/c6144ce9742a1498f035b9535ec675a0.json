{"ast":null,"code":"import _classCallCheck from\"/Users/rgoren/Desktop/nextMoleAppClient/next_mole_client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/rgoren/Desktop/nextMoleAppClient/next_mole_client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/Users/rgoren/Desktop/nextMoleAppClient/next_mole_client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/rgoren/Desktop/nextMoleAppClient/next_mole_client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/rgoren/Desktop/nextMoleAppClient/next_mole_client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import'../css/index.css';import{Link}from\"react-router-dom\";import Swal from'sweetalert2';import withReactContent from'sweetalert2-react-content';import{withRouter}from'react-router-dom';var MySwal=withReactContent(Swal);var Login=/*#__PURE__*/function(_Component){_inherits(Login,_Component);var _super=_createSuper(Login);function Login(props){var _this;_classCallCheck(this,Login);_this=_super.call(this,props);_this.checkLogin=function(event){event.preventDefault();var emailStr=_this.state.userEmail;var passwordStr=_this.state.userPassword;if(emailStr===''){MySwal.fire({title:'Error!',text:'You must insert email address',icon:'warning',confirmButtonText:'Ok'});}else if(passwordStr===''){MySwal.fire({title:'Error!',text:'You must insert password',icon:'warning',confirmButtonText:'Ok'});}else{var api=_this.apiUrl+\"user/\"+emailStr+\"/\"+passwordStr;console.log(api);//this.props.history.push(\"/home\");\nfetch(api,{method:'GET',//mode: 'no-cors',\nheaders:new Headers({'Content-Type':'application/json; charset=UTF-8'})}).then(function(res){console.log('res=',res);return res.json();}).then(function(result){console.log(result);if(result){MySwal.fire({title:'Login successfully!',icon:'success',timer:1000,showConfirmButton:false});_this.props.history.push(\"/home\");}else{MySwal.fire(\"Email or password are incorrect, please try again\",\"\",\"warning\");}},function(error){console.log(\"err=\",error);});}};var local=false;//let local = true;\n_this.apiUrl='https://localhost:44312/api/';if(!local){_this.apiUrl='http://proj.ruppin.ac.il/igroup8/prod/api/';}_this.state={userEmail:'',userPassword:'',isSignedIn:false};_this.handleEmailChange=_this.handleEmailChange.bind(_assertThisInitialized(_this));_this.handlePasswordChange=_this.handlePasswordChange.bind(_assertThisInitialized(_this));_this.checkLogin=_this.checkLogin.bind(_assertThisInitialized(_this));return _this;}_createClass(Login,[{key:\"handleEmailChange\",value:function handleEmailChange(event){this.setState({userEmail:event.target.value});}},{key:\"handlePasswordChange\",value:function handlePasswordChange(event){this.setState({userPassword:event.target.value});}},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(\"div\",{className:\"auth-wrapper\"},/*#__PURE__*/React.createElement(\"div\",{className:\"auth-inner\"},/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"form\",{onSubmit:this.checkLogin},/*#__PURE__*/React.createElement(\"h3\",null,\"Sign In\"),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",null,\"Email address\"),/*#__PURE__*/React.createElement(\"input\",{type:\"email\",name:\"userEmail\",onChange:this.handleEmailChange,className:\"form-control\",placeholder:\"name@example.com\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",null,\"Password\"),/*#__PURE__*/React.createElement(\"input\",{type:\"password\",name:\"userPassword\",onChange:this.handlePasswordChange,className:\"form-control\",placeholder:\"Enter password\"})),/*#__PURE__*/React.createElement(\"button\",{type:\"submit\",className:\"btn btn-info btn-block\"},\"Submit\"),/*#__PURE__*/React.createElement(\"p\",{className:\"forgot-password text-right\"},/*#__PURE__*/React.createElement(Link,{className:\"nav-link text-info\",to:\"/sign-up\"},\"Not registered yet?\"))))));}}]);return Login;}(Component);export default withRouter(Login);","map":{"version":3,"sources":["/Users/rgoren/Desktop/nextMoleAppClient/next_mole_client/src/Components/Login.jsx"],"names":["React","Component","Link","Swal","withReactContent","withRouter","MySwal","Login","props","checkLogin","event","preventDefault","emailStr","state","userEmail","passwordStr","userPassword","fire","title","text","icon","confirmButtonText","api","apiUrl","console","log","fetch","method","headers","Headers","then","res","json","result","timer","showConfirmButton","history","push","error","local","isSignedIn","handleEmailChange","bind","handlePasswordChange","setState","target","value"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport '../css/index.css';\nimport { Link } from \"react-router-dom\";\nimport Swal from 'sweetalert2';\nimport withReactContent from 'sweetalert2-react-content';\nimport { withRouter} from 'react-router-dom';\n\n\n\nconst MySwal = withReactContent(Swal)\n\nclass Login extends Component {\n\n  constructor(props) {\n    super(props)\n    let local = false;\n    //let local = true;\n    this.apiUrl = 'https://localhost:44312/api/';\n    if (!local) {\n      this.apiUrl = 'http://proj.ruppin.ac.il/igroup8/prod/api/';\n    }\n    this.state = {\n      userEmail: '',\n      userPassword: '',\n      isSignedIn: false\n    }\n    this.handleEmailChange = this.handleEmailChange.bind(this);\n    this.handlePasswordChange = this.handlePasswordChange.bind(this);\n    this.checkLogin = this.checkLogin.bind(this);\n\n  }\n\n  handleEmailChange(event) {\n    this.setState({ userEmail: event.target.value });\n  }\n\n  handlePasswordChange(event) {\n    this.setState({ userPassword: event.target.value });\n  }\n\n  checkLogin = (event) => {\n    event.preventDefault();\n    var emailStr =this.state.userEmail;\n    var passwordStr=this.state.userPassword;\n    if(emailStr===''){\n      MySwal.fire({\n        title: 'Error!',\n        text: 'You must insert email address',\n        icon: 'warning',\n        confirmButtonText: 'Ok'\n    })\n    }\n    else if(passwordStr===''){\n      MySwal.fire({\n        title: 'Error!',\n        text: 'You must insert password',\n        icon: 'warning',\n        confirmButtonText: 'Ok'\n    })\n    }\n    else{\n      let api= this.apiUrl+\"user/\"+emailStr+\"/\"+passwordStr;\n      console.log(api);\n      //this.props.history.push(\"/home\");\n\n      fetch(api, {\n        method: 'GET',\n        //mode: 'no-cors',\n        headers: new Headers({\n          'Content-Type': 'application/json; charset=UTF-8',\n        })\n      })\n        .then(res => {\n          console.log('res=', res);\n          return res.json();\n        })\n        .then(result => {\n          console.log(result);\n          if (result) {\n            MySwal.fire({\n              title: 'Login successfully!',\n              icon: 'success',\n              timer: 1000,\n              showConfirmButton:false,\n            })\n            this.props.history.push(\"/home\");\n          }\n          else {\n            MySwal.fire(\"Email or password are incorrect, please try again\", \"\", \"warning\");\n            \n          }\n        },\n          (error) => {\n            console.log(\"err=\", error);\n          });\n    }\n\n  }\n\n  render() {\n    return (\n      <div className=\"auth-wrapper\">\n        <div className=\"auth-inner\">\n          <div>\n            <form onSubmit={this.checkLogin}>\n              <h3>Sign In</h3>\n\n              <div className=\"form-group\">\n                <label>Email address</label>\n                <input type=\"email\" name=\"userEmail\" onChange={this.handleEmailChange}\n                  className=\"form-control\" placeholder=\"name@example.com\" />\n              </div>\n\n              <div className=\"form-group\">\n                <label>Password</label>\n                <input type=\"password\" name=\"userPassword\" onChange={this.handlePasswordChange}\n                  className=\"form-control\" placeholder=\"Enter password\" />\n              </div>\n              <button type=\"submit\" className=\"btn btn-info btn-block\">Submit</button>\n              <p className=\"forgot-password text-right\">\n                <Link className=\"nav-link text-info\" to=\"/sign-up\">Not registered yet?</Link>\n              </p>\n            </form>\n          </div>\n\n        </div>\n      </div>\n    );\n  }\n}\nexport default withRouter(Login);\n"]},"metadata":{},"sourceType":"module"}