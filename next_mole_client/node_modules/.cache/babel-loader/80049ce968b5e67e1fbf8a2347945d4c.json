{"ast":null,"code":"import { EventDispatcher, Plane, Raycaster, Vector2, Vector3 } from 'three';\n/*\n * @author zz85 / https://github.com/zz85\n * @author mrdoob / http://mrdoob.com\n * Running this will allow you to drag three.js objects around the screen.\n */\n\nfunction DragControls(_objects, _camera, _domElement) {\n  if (_objects.isCamera) {\n    console.warn('THREE.DragControls: Constructor now expects ( objects, camera, domElement )');\n    var temp = _objects;\n    _objects = _camera;\n    _camera = temp;\n  }\n\n  var _plane = new Plane();\n\n  var _raycaster = new Raycaster();\n\n  var _mouse = new Vector2();\n\n  var _offset = new Vector3();\n\n  var _intersection = new Vector3();\n\n  var _selected = null,\n      _hovered = null; //\n\n  var scope = this;\n\n  function activate() {\n    _domElement.addEventListener('mousemove', onDocumentMouseMove, false);\n\n    _domElement.addEventListener('mousedown', onDocumentMouseDown, false);\n\n    _domElement.addEventListener('mouseup', onDocumentMouseCancel, false);\n\n    _domElement.addEventListener('mouseleave', onDocumentMouseCancel, false);\n\n    _domElement.addEventListener('touchmove', onDocumentTouchMove, false);\n\n    _domElement.addEventListener('touchstart', onDocumentTouchStart, false);\n\n    _domElement.addEventListener('touchend', onDocumentTouchEnd, false);\n  }\n\n  function deactivate() {\n    _domElement.removeEventListener('mousemove', onDocumentMouseMove, false);\n\n    _domElement.removeEventListener('mousedown', onDocumentMouseDown, false);\n\n    _domElement.removeEventListener('mouseup', onDocumentMouseCancel, false);\n\n    _domElement.removeEventListener('mouseleave', onDocumentMouseCancel, false);\n\n    _domElement.removeEventListener('touchmove', onDocumentTouchMove, false);\n\n    _domElement.removeEventListener('touchstart', onDocumentTouchStart, false);\n\n    _domElement.removeEventListener('touchend', onDocumentTouchEnd, false);\n  }\n\n  function dispose() {\n    deactivate();\n  }\n\n  function onDocumentMouseMove(event) {\n    event.preventDefault();\n\n    var rect = _domElement.getBoundingClientRect();\n\n    _mouse.x = (event.clientX - rect.left) / rect.width * 2 - 1;\n    _mouse.y = -((event.clientY - rect.top) / rect.height) * 2 + 1;\n\n    _raycaster.setFromCamera(_mouse, _camera);\n\n    if (_selected && scope.enabled) {\n      if (_raycaster.ray.intersectPlane(_plane, _intersection)) {\n        _selected.position.copy(_intersection.sub(_offset));\n      }\n\n      scope.dispatchEvent({\n        type: 'drag',\n        object: _selected\n      });\n      return;\n    }\n\n    _raycaster.setFromCamera(_mouse, _camera);\n\n    var intersects = _raycaster.intersectObjects(_objects);\n\n    if (intersects.length > 0) {\n      var object = intersects[0].object;\n\n      _plane.setFromNormalAndCoplanarPoint(_camera.getWorldDirection(_plane.normal), object.position);\n\n      if (_hovered !== object) {\n        scope.dispatchEvent({\n          type: 'hoveron',\n          object: object\n        });\n        _domElement.style.cursor = 'pointer';\n        _hovered = object;\n      }\n    } else {\n      if (_hovered !== null) {\n        scope.dispatchEvent({\n          type: 'hoveroff',\n          object: _hovered\n        });\n        _domElement.style.cursor = 'auto';\n        _hovered = null;\n      }\n    }\n  }\n\n  function onDocumentMouseDown(event) {\n    event.preventDefault();\n\n    _raycaster.setFromCamera(_mouse, _camera);\n\n    var intersects = _raycaster.intersectObjects(_objects);\n\n    if (intersects.length > 0) {\n      _selected = intersects[0].object;\n\n      if (_raycaster.ray.intersectPlane(_plane, _intersection)) {\n        _offset.copy(_intersection).sub(_selected.position);\n      }\n\n      _domElement.style.cursor = 'move';\n      scope.dispatchEvent({\n        type: 'dragstart',\n        object: _selected\n      });\n    }\n  }\n\n  function onDocumentMouseCancel(event) {\n    event.preventDefault();\n\n    if (_selected) {\n      scope.dispatchEvent({\n        type: 'dragend',\n        object: _selected\n      });\n      _selected = null;\n    }\n\n    _domElement.style.cursor = 'auto';\n  }\n\n  function onDocumentTouchMove(event) {\n    event.preventDefault();\n    event = event.changedTouches[0];\n\n    var rect = _domElement.getBoundingClientRect();\n\n    _mouse.x = (event.clientX - rect.left) / rect.width * 2 - 1;\n    _mouse.y = -((event.clientY - rect.top) / rect.height) * 2 + 1;\n\n    _raycaster.setFromCamera(_mouse, _camera);\n\n    if (_selected && scope.enabled) {\n      if (_raycaster.ray.intersectPlane(_plane, _intersection)) {\n        _selected.position.copy(_intersection.sub(_offset));\n      }\n\n      scope.dispatchEvent({\n        type: 'drag',\n        object: _selected\n      });\n      return;\n    }\n  }\n\n  function onDocumentTouchStart(event) {\n    event.preventDefault();\n    event = event.changedTouches[0];\n\n    var rect = _domElement.getBoundingClientRect();\n\n    _mouse.x = (event.clientX - rect.left) / rect.width * 2 - 1;\n    _mouse.y = -((event.clientY - rect.top) / rect.height) * 2 + 1;\n\n    _raycaster.setFromCamera(_mouse, _camera);\n\n    var intersects = _raycaster.intersectObjects(_objects);\n\n    if (intersects.length > 0) {\n      _selected = intersects[0].object;\n\n      _plane.setFromNormalAndCoplanarPoint(_camera.getWorldDirection(_plane.normal), _selected.position);\n\n      if (_raycaster.ray.intersectPlane(_plane, _intersection)) {\n        _offset.copy(_intersection).sub(_selected.position);\n      }\n\n      _domElement.style.cursor = 'move';\n      scope.dispatchEvent({\n        type: 'dragstart',\n        object: _selected\n      });\n    }\n  }\n\n  function onDocumentTouchEnd(event) {\n    event.preventDefault();\n\n    if (_selected) {\n      scope.dispatchEvent({\n        type: 'dragend',\n        object: _selected\n      });\n      _selected = null;\n    }\n\n    _domElement.style.cursor = 'auto';\n  }\n\n  activate(); // API\n\n  this.enabled = true;\n  this.activate = activate;\n  this.deactivate = deactivate;\n  this.dispose = dispose; // Backward compatibility\n\n  this.setObjects = function () {\n    console.error('THREE.DragControls: setObjects() has been removed.');\n  };\n\n  this.on = function (type, listener) {\n    console.warn('THREE.DragControls: on() has been deprecated. Use addEventListener() instead.');\n    scope.addEventListener(type, listener);\n  };\n\n  this.off = function (type, listener) {\n    console.warn('THREE.DragControls: off() has been deprecated. Use removeEventListener() instead.');\n    scope.removeEventListener(type, listener);\n  };\n\n  this.notify = function (type) {\n    console.error('THREE.DragControls: notify() has been deprecated. Use dispatchEvent() instead.');\n    scope.dispatchEvent({\n      type: type\n    });\n  };\n}\n\nDragControls.prototype = Object.create(EventDispatcher.prototype);\nDragControls.prototype.constructor = DragControls;\nexport default DragControls;","map":{"version":3,"sources":["/Users/rgoren/Desktop/nextMoleAppClient/next_mole_client/node_modules/three-dragcontrols/lib/index.module.js"],"names":["EventDispatcher","Plane","Raycaster","Vector2","Vector3","DragControls","_objects","_camera","_domElement","isCamera","console","warn","temp","_plane","_raycaster","_mouse","_offset","_intersection","_selected","_hovered","scope","activate","addEventListener","onDocumentMouseMove","onDocumentMouseDown","onDocumentMouseCancel","onDocumentTouchMove","onDocumentTouchStart","onDocumentTouchEnd","deactivate","removeEventListener","dispose","event","preventDefault","rect","getBoundingClientRect","x","clientX","left","width","y","clientY","top","height","setFromCamera","enabled","ray","intersectPlane","position","copy","sub","dispatchEvent","type","object","intersects","intersectObjects","length","setFromNormalAndCoplanarPoint","getWorldDirection","normal","style","cursor","changedTouches","setObjects","error","on","listener","off","notify","prototype","Object","create","constructor"],"mappings":"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","sourcesContent":["import {\n  EventDispatcher,\n  Plane,\n  Raycaster,\n  Vector2,\n  Vector3\n} from 'three';\n\n/*\n * @author zz85 / https://github.com/zz85\n * @author mrdoob / http://mrdoob.com\n * Running this will allow you to drag three.js objects around the screen.\n */\n\nfunction DragControls(_objects, _camera, _domElement) {\n\n  if (_objects.isCamera) {\n\n    console.warn('THREE.DragControls: Constructor now expects ( objects, camera, domElement )');\n    var temp = _objects;\n    _objects = _camera;\n    _camera = temp;\n\n  }\n\n  var _plane = new Plane();\n  var _raycaster = new Raycaster();\n\n  var _mouse = new Vector2();\n  var _offset = new Vector3();\n  var _intersection = new Vector3();\n\n  var _selected = null,\n    _hovered = null;\n\n  //\n\n  var scope = this;\n\n  function activate() {\n\n    _domElement.addEventListener('mousemove', onDocumentMouseMove, false);\n    _domElement.addEventListener('mousedown', onDocumentMouseDown, false);\n    _domElement.addEventListener('mouseup', onDocumentMouseCancel, false);\n    _domElement.addEventListener('mouseleave', onDocumentMouseCancel, false);\n    _domElement.addEventListener('touchmove', onDocumentTouchMove, false);\n    _domElement.addEventListener('touchstart', onDocumentTouchStart, false);\n    _domElement.addEventListener('touchend', onDocumentTouchEnd, false);\n\n  }\n\n  function deactivate() {\n\n    _domElement.removeEventListener('mousemove', onDocumentMouseMove, false);\n    _domElement.removeEventListener('mousedown', onDocumentMouseDown, false);\n    _domElement.removeEventListener('mouseup', onDocumentMouseCancel, false);\n    _domElement.removeEventListener('mouseleave', onDocumentMouseCancel, false);\n    _domElement.removeEventListener('touchmove', onDocumentTouchMove, false);\n    _domElement.removeEventListener('touchstart', onDocumentTouchStart, false);\n    _domElement.removeEventListener('touchend', onDocumentTouchEnd, false);\n\n  }\n\n  function dispose() {\n\n    deactivate();\n\n  }\n\n  function onDocumentMouseMove(event) {\n\n    event.preventDefault();\n\n    var rect = _domElement.getBoundingClientRect();\n\n    _mouse.x = ((event.clientX - rect.left) / rect.width) * 2 - 1;\n    _mouse.y = -((event.clientY - rect.top) / rect.height) * 2 + 1;\n\n    _raycaster.setFromCamera(_mouse, _camera);\n\n    if (_selected && scope.enabled) {\n\n      if (_raycaster.ray.intersectPlane(_plane, _intersection)) {\n\n        _selected.position.copy(_intersection.sub(_offset));\n\n      }\n\n      scope.dispatchEvent({\n        type: 'drag',\n        object: _selected\n      });\n\n      return;\n\n    }\n\n    _raycaster.setFromCamera(_mouse, _camera);\n\n    var intersects = _raycaster.intersectObjects(_objects);\n\n    if (intersects.length > 0) {\n\n      var object = intersects[0].object;\n\n      _plane.setFromNormalAndCoplanarPoint(_camera.getWorldDirection(_plane.normal), object.position);\n\n      if (_hovered !== object) {\n\n        scope.dispatchEvent({\n          type: 'hoveron',\n          object: object\n        });\n\n        _domElement.style.cursor = 'pointer';\n        _hovered = object;\n\n      }\n\n    } else {\n\n      if (_hovered !== null) {\n\n        scope.dispatchEvent({\n          type: 'hoveroff',\n          object: _hovered\n        });\n\n        _domElement.style.cursor = 'auto';\n        _hovered = null;\n\n      }\n\n    }\n\n  }\n\n  function onDocumentMouseDown(event) {\n\n    event.preventDefault();\n\n    _raycaster.setFromCamera(_mouse, _camera);\n\n    var intersects = _raycaster.intersectObjects(_objects);\n\n    if (intersects.length > 0) {\n\n      _selected = intersects[0].object;\n\n      if (_raycaster.ray.intersectPlane(_plane, _intersection)) {\n\n        _offset.copy(_intersection).sub(_selected.position);\n\n      }\n\n      _domElement.style.cursor = 'move';\n\n      scope.dispatchEvent({\n        type: 'dragstart',\n        object: _selected\n      });\n\n    }\n\n\n  }\n\n  function onDocumentMouseCancel(event) {\n\n    event.preventDefault();\n\n    if (_selected) {\n\n      scope.dispatchEvent({\n        type: 'dragend',\n        object: _selected\n      });\n\n      _selected = null;\n\n    }\n\n    _domElement.style.cursor = 'auto';\n\n  }\n\n  function onDocumentTouchMove(event) {\n\n    event.preventDefault();\n    event = event.changedTouches[0];\n\n    var rect = _domElement.getBoundingClientRect();\n\n    _mouse.x = ((event.clientX - rect.left) / rect.width) * 2 - 1;\n    _mouse.y = -((event.clientY - rect.top) / rect.height) * 2 + 1;\n\n    _raycaster.setFromCamera(_mouse, _camera);\n\n    if (_selected && scope.enabled) {\n\n      if (_raycaster.ray.intersectPlane(_plane, _intersection)) {\n\n        _selected.position.copy(_intersection.sub(_offset));\n\n      }\n\n      scope.dispatchEvent({\n        type: 'drag',\n        object: _selected\n      });\n\n      return;\n\n    }\n\n  }\n\n  function onDocumentTouchStart(event) {\n\n    event.preventDefault();\n    event = event.changedTouches[0];\n\n    var rect = _domElement.getBoundingClientRect();\n\n    _mouse.x = ((event.clientX - rect.left) / rect.width) * 2 - 1;\n    _mouse.y = -((event.clientY - rect.top) / rect.height) * 2 + 1;\n\n    _raycaster.setFromCamera(_mouse, _camera);\n\n    var intersects = _raycaster.intersectObjects(_objects);\n\n    if (intersects.length > 0) {\n\n      _selected = intersects[0].object;\n\n      _plane.setFromNormalAndCoplanarPoint(_camera.getWorldDirection(_plane.normal), _selected.position);\n\n      if (_raycaster.ray.intersectPlane(_plane, _intersection)) {\n\n        _offset.copy(_intersection).sub(_selected.position);\n\n      }\n\n      _domElement.style.cursor = 'move';\n\n      scope.dispatchEvent({\n        type: 'dragstart',\n        object: _selected\n      });\n\n    }\n\n\n  }\n\n  function onDocumentTouchEnd(event) {\n\n    event.preventDefault();\n\n    if (_selected) {\n\n      scope.dispatchEvent({\n        type: 'dragend',\n        object: _selected\n      });\n\n      _selected = null;\n\n    }\n\n    _domElement.style.cursor = 'auto';\n\n  }\n\n  activate();\n\n  // API\n\n  this.enabled = true;\n\n  this.activate = activate;\n  this.deactivate = deactivate;\n  this.dispose = dispose;\n\n  // Backward compatibility\n\n  this.setObjects = function() {\n\n    console.error('THREE.DragControls: setObjects() has been removed.');\n\n  };\n\n  this.on = function(type, listener) {\n\n    console.warn('THREE.DragControls: on() has been deprecated. Use addEventListener() instead.');\n    scope.addEventListener(type, listener);\n\n  };\n\n  this.off = function(type, listener) {\n\n    console.warn('THREE.DragControls: off() has been deprecated. Use removeEventListener() instead.');\n    scope.removeEventListener(type, listener);\n\n  };\n\n  this.notify = function(type) {\n\n    console.error('THREE.DragControls: notify() has been deprecated. Use dispatchEvent() instead.');\n    scope.dispatchEvent({\n      type: type\n    });\n\n  };\n\n}\n\nDragControls.prototype = Object.create(EventDispatcher.prototype);\nDragControls.prototype.constructor = DragControls;\n\nexport default DragControls;"]},"metadata":{},"sourceType":"module"}