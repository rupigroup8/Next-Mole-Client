{"ast":null,"code":"import _classCallCheck from\"/Users/rgoren/Desktop/nextMoleAppClient/next_mole_client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/rgoren/Desktop/nextMoleAppClient/next_mole_client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/Users/rgoren/Desktop/nextMoleAppClient/next_mole_client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/rgoren/Desktop/nextMoleAppClient/next_mole_client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/rgoren/Desktop/nextMoleAppClient/next_mole_client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import{Link}from\"react-router-dom\";import{withRouter}from'react-router-dom';import Swal from'sweetalert2';import withReactContent from'sweetalert2-react-content';import'../css/index.css';//import { csvParse } from \"d3\";\nvar MySwal=withReactContent(Swal);var SignUp=/*#__PURE__*/function(_Component){_inherits(SignUp,_Component);var _super=_createSuper(SignUp);function SignUp(props){var _this;_classCallCheck(this,SignUp);_this=_super.call(this,props);_this.signUser=function(event){event.preventDefault();var counter=0;if(/[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,15}$/i.test(_this.state.userEmail)){counter++;}else{_this.setState({validation:false});}var pass=_this.state.userPassword;var reg=/^(?=.*\\d)(?=.*[a-z])(?=.*[A-Z]).{8,32}$/;var test=reg.test(pass);if(test){counter++;}else{_this.setState({validation:false});MySwal.fire(\"Your password must contain at least one uppercase and must be between 8 and 30 characters, please try again\",\"\",\"warning\");}if(_this.state.userGender===null){_this.setState({validation:false});MySwal.fire(\"select a Gender, please try again\",\"\",\"warning\");}else{counter++;}console.log(counter);if(counter===3){// event.preventDefault();\nvar userToPost={UserEmail:_this.state.userEmail,UserPassword:_this.state.userPassword,UserName:_this.state.userName,Gender:_this.state.userGender};fetch(_this.apiUrl+'/user',{method:'POST',body:JSON.stringify(userToPost),headers:new Headers({'Content-Type':'application/json; charset=UTF-8'})}).then(function(res){console.log('res=',res);return res.json();}).then(function(result){console.log(result);if(result){_this.props.history.push(\"/home\");}else{MySwal.fire(\"This email address is allready registered, please sign up with a different address\",\"\",\"warning\");}},function(error){console.log(\"err post=\",error);});}};var local=false;//let local = true\n_this.apiUrl='https://localhost:44312/api/';if(!local){_this.apiUrl='http://proj.ruppin.ac.il/igroup8/prod/api/';}_this.state={userEmail:'',userPassword:'',userName:'',userGender:null,validation:true};_this.handleEmailChange=_this.handleEmailChange.bind(_assertThisInitialized(_this));_this.handlePasswordChange=_this.handlePasswordChange.bind(_assertThisInitialized(_this));_this.handleUserNameChange=_this.handleUserNameChange.bind(_assertThisInitialized(_this));_this.handleGenderChange=_this.handleGenderChange.bind(_assertThisInitialized(_this));_this.signUser=_this.signUser.bind(_assertThisInitialized(_this));return _this;}_createClass(SignUp,[{key:\"handleEmailChange\",value:function handleEmailChange(event){this.setState({userEmail:event.target.value});}},{key:\"handlePasswordChange\",value:function handlePasswordChange(event){this.setState({userPassword:event.target.value});}},{key:\"handleUserNameChange\",value:function handleUserNameChange(event){this.setState({userName:event.target.value});}},{key:\"handleGenderChange\",value:function handleGenderChange(event){this.setState({userGender:event.target.value});}},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(\"div\",{className:\"auth-wrapper\"},/*#__PURE__*/React.createElement(\"div\",{className:\"auth-inner\"},/*#__PURE__*/React.createElement(\"form\",{onSubmit:this.signUser},/*#__PURE__*/React.createElement(\"h3\",null,\"Create Account\"),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",null,\"Email address\"),/*#__PURE__*/React.createElement(\"input\",{type:\"email\",onChange:this.handleEmailChange,className:\"form-control\",placeholder:\"Enter email\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",null,\"Password\"),/*#__PURE__*/React.createElement(\"input\",{type:\"password\",onChange:this.handlePasswordChange,className:\"form-control\",placeholder:\"Enter password\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",null,\"User name\"),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",onChange:this.handleUserNameChange,className:\"form-control\",placeholder:\"Full Name\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",null,\"Gender\"),/*#__PURE__*/React.createElement(\"br\",null),\"\\xA0\",/*#__PURE__*/React.createElement(\"input\",{type:\"radio\",name:\"gender\",value:\"Male\",onChange:this.handleGenderChange}),\" \",/*#__PURE__*/React.createElement(\"label\",null,\"Male\"),/*#__PURE__*/React.createElement(\"br\",null),\"\\xA0\",/*#__PURE__*/React.createElement(\"input\",{type:\"radio\",name:\"gender\",value:\"Female\",onChange:this.handleGenderChange}),\" \",/*#__PURE__*/React.createElement(\"label\",null,\"Female\")),/*#__PURE__*/React.createElement(\"button\",{type:\"submit\",className:\"btn btn-info btn-block\"},\"Sign Up\"),/*#__PURE__*/React.createElement(\"p\",{className:\"forgot-password text-right\"},/*#__PURE__*/React.createElement(Link,{className:\"nav-link text-info\",to:\"/\"},\"Already registered?\")))));}}]);return SignUp;}(Component);export default withRouter(SignUp);","map":{"version":3,"sources":["/Users/rgoren/Desktop/nextMoleAppClient/next_mole_client/src/Components/SignUp.jsx"],"names":["React","Component","Link","withRouter","Swal","withReactContent","MySwal","SignUp","props","signUser","event","preventDefault","counter","test","state","userEmail","setState","validation","pass","userPassword","reg","fire","userGender","console","log","userToPost","UserEmail","UserPassword","UserName","userName","Gender","fetch","apiUrl","method","body","JSON","stringify","headers","Headers","then","res","json","result","history","push","error","local","handleEmailChange","bind","handlePasswordChange","handleUserNameChange","handleGenderChange","target","value"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { withRouter } from 'react-router-dom';\nimport Swal from 'sweetalert2';\nimport withReactContent from 'sweetalert2-react-content';\nimport '../css/index.css';\n//import { csvParse } from \"d3\";\n\nconst MySwal = withReactContent(Swal)\n\n\n\nclass SignUp extends Component {\n\n    constructor(props) {\n        super(props)\n        let local = false;\n        //let local = true\n        this.apiUrl = 'https://localhost:44312/api/';\n        if (!local) {\n          this.apiUrl = 'http://proj.ruppin.ac.il/igroup8/prod/api/';\n        }\n        this.state = {\n          userEmail: '',\n          userPassword: '',\n          userName:'',\n          userGender:null,\n          validation:true\n\n        }\n        this.handleEmailChange = this.handleEmailChange.bind(this);\n        this.handlePasswordChange = this.handlePasswordChange.bind(this);\n        this.handleUserNameChange = this.handleUserNameChange.bind(this);\n        this.handleGenderChange = this.handleGenderChange.bind(this);\n        this.signUser = this.signUser.bind(this);  \n      }\n\n      handleEmailChange(event) {\n        this.setState({ userEmail: event.target.value });    \n      }\n\n      handlePasswordChange(event) {\n        this.setState({ userPassword: event.target.value });\n      }\n\n      handleUserNameChange(event) {\n        this.setState({ userName: event.target.value });\n      }\n      handleGenderChange(event) {\n        this.setState({ userGender: event.target.value });\n      }\n            \n    signUser = (event) => {   \n      event.preventDefault();\n      var counter=0;\n      if (/[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,15}$/i.test(this.state.userEmail)) {    \n          counter++;\n      }\n      else{\n        this.setState({validation: false})\n      }     \n      var pass=this.state.userPassword;\n      var reg = /^(?=.*\\d)(?=.*[a-z])(?=.*[A-Z]).{8,32}$/;\n      var test = reg.test(pass);\n        if (test) {\n         counter++;\n\n        } else{\n            this.setState({validation: false})\n            MySwal.fire(\"Your password must contain at least one uppercase and must be between 8 and 30 characters, please try again\", \"\", \"warning\")\n        }\n        \n      if(this.state.userGender===null){\n        this.setState({validation: false})\n        MySwal.fire(\"select a Gender, please try again\", \"\", \"warning\")\n      }\n      else{\n          counter++;\n      }\n      console.log(counter);\n   if(counter===3){\n       // event.preventDefault();\n        const userToPost={\n            UserEmail: this.state.userEmail,\n            UserPassword: this.state.userPassword,\n            UserName: this.state.userName,\n            Gender: this.state.userGender\n        }\n\n        fetch(this.apiUrl+'/user', {\n          method: 'POST',\n          body: JSON.stringify(userToPost),\n          headers: new Headers({\n            'Content-Type': 'application/json; charset=UTF-8',\n          })\n        })\n          .then(res => {\n            console.log('res=', res);\n            return res.json();\n          })\n          .then(result => {\n            console.log(result);\n            if (result) {\n              this.props.history.push(\"/home\");\n            }\n            else {\n              MySwal.fire(\"This email address is allready registered, please sign up with a different address\", \"\", \"warning\")\n            }\n          },\n            (error) => {\n              console.log(\"err post=\", error);\n            });\n      }\n    }\n\n    render() {\n        return (\n            <div className=\"auth-wrapper\">\n                <div className=\"auth-inner\">\n                    <form onSubmit={this.signUser}>\n                        <h3>Create Account</h3>\n                        <div className=\"form-group\">\n                            <label>Email address</label>\n                            <input type=\"email\" onChange={this.handleEmailChange} className=\"form-control\" placeholder=\"Enter email\" />\n                        </div>\n                        <div className=\"form-group\">\n                            <label>Password</label>\n                            <input type=\"password\" onChange={this.handlePasswordChange} className=\"form-control\" placeholder=\"Enter password\" />\n                        </div>\n                        <div className=\"form-group\">\n                            <label>User name</label>\n                            <input type=\"text\" onChange={this.handleUserNameChange} className=\"form-control\" placeholder=\"Full Name\" />\n                        </div>\n                        <div className=\"form-group\">\n     \n                            <label>Gender</label><br/>\n                            &nbsp;<input type=\"radio\" name=\"gender\" value=\"Male\" onChange={this.handleGenderChange} /> <label>Male</label><br/>\n                            &nbsp;<input type=\"radio\" name=\"gender\"  value=\"Female\" onChange={this.handleGenderChange}/> <label>Female</label>\n                        </div>\n                        <button type=\"submit\" className=\"btn btn-info btn-block\">Sign Up</button>\n                        <p className=\"forgot-password text-right\">\n                            <Link className=\"nav-link text-info\" to=\"/\">Already registered?</Link>\n                        </p>\n                    </form>\n                </div>\n            </div>\n        );\n    }\n}\nexport default withRouter(SignUp);  "]},"metadata":{},"sourceType":"module"}